<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DATSPACE</title>

<!-- FAVICON -->
<link rel="icon" type="image/png" href="/dats.png">

<style>
html, body {
    margin:0;
    padding:0;
    background:black;
    color:white;
    font-family:Consolas, monospace;
    overflow:hidden;
}

canvas {
    position:fixed;
    top:0;
    left:0;
}

.tabs {
    position:fixed;
    top:40px;
    right:80px;
    font-size:30px;
    z-index:10;
}

.tab {
    margin-left:30px;
    cursor:pointer;
    display:inline-block;
}

.active {
    border:1px solid white;
    padding:6px 12px;
}

/* INTERNET ART TAB (LEFT) */
.internet-art-tab{
    position:fixed;
    top:40px;
    left:80px;
    font-size:30px;
    z-index:10;
}

.internet-art-tab a{
    color:white;
    text-decoration:none;
}

.content {
    position:fixed;
    bottom:120px;
    left:50%;
    transform:translateX(-50%);
    font-size:20px;
    text-align:center;
    z-index:10;
    max-width:900px;
    transition: opacity 0.6s ease;
}

.fade-out { opacity:0; }
.fade-in { opacity:1; }

a { color:white; text-decoration:none; }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- INTERNET ART TAB -->
<div class="internet-art-tab">
    <a href="/internet-art/">INTERNET-ART</a>
</div>

<div class="tabs">
    <span class="tab active">HOME</span>
    <span class="tab">EVENT</span>
    <span class="tab">LOCATION</span>
    <span class="tab">PROGRAM</span>
    <span class="tab">CONTACT</span>
</div>

<div class="content" id="content"></div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    const dpr = window.devicePixelRatio || 1;
    canvas.style.width = window.innerWidth + "px";
    canvas.style.height = window.innerHeight + "px";
    canvas.width = window.innerWidth * dpr;
    canvas.height = window.innerHeight * dpr;
    ctx.setTransform(1,0,0,1,0,0);
    ctx.scale(dpr, dpr);
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

let dragging = false;
let glitchFrames = 0;
let currentTab = "HOME";

const tabs = document.querySelectorAll(".tab");
const content = document.getElementById("content");

tabs.forEach(tab=>{
    tab.addEventListener("click",()=>{
        tabs.forEach(t=>t.classList.remove("active"));
        tab.classList.add("active");
        currentTab = tab.innerText;
        updateContent();
        glitchFrames = 12;
    });
});

function updateContent(){
    if(currentTab==="HOME")
        content.innerHTML = "//DATSPACE";

    if(currentTab==="EVENT")
        content.innerHTML = "NO ACTIVE TRANSMISSION";

    if(currentTab==="LOCATION")
        content.innerHTML = `<a href="https://maps.app.goo.gl/e7eK7yZ6L4t8fkuk7" target="_blank">
        Jalan Gatsu Timur No.88X, Denpasar, Bali
        </a>`;

    if(currentTab==="PROGRAM")
        content.innerText="DatIn — Indoor AV / DatOut — Outdoor AV";

    if(currentTab==="CONTACT")
        content.innerHTML = `
        info@datspace.club<br>
        ig: @_____dats`;
}

updateContent();

function draw(){
    ctx.fillStyle="black";
    ctx.fillRect(0,0,window.innerWidth,window.innerHeight);

    ctx.fillStyle="white";
    ctx.textAlign="center";
    ctx.font = Math.min(window.innerWidth/6, 180) + "px Consolas";
    ctx.fillText("DATs", window.innerWidth/2, window.innerHeight/2);

    if(dragging){
        ctx.strokeStyle="white";
        for(let r=50;r<Math.min(window.innerWidth, window.innerHeight)/1.2;r+=40){
            ctx.beginPath();
            ctx.arc(window.innerWidth/2,window.innerHeight/2,r,0,Math.PI*2);
            ctx.stroke();
        }
    }

    if(glitchFrames>0){
        for(let i=0;i<120;i++){
            ctx.fillStyle=Math.random()>0.5?"white":"black";
            ctx.fillRect(Math.random()*window.innerWidth,Math.random()*window.innerHeight,Math.random()*400,Math.random()*80);
        }
        glitchFrames--;
    }

    requestAnimationFrame(draw);
}

canvas.addEventListener("mousedown",()=>dragging=true);
canvas.addEventListener("mouseup",()=>dragging=false);

draw();
</script>

</body>
</html>
